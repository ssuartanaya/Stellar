<% if user_signed_in? %>   
	<% if user==current_user %>
		<%= link_to "Edit Profile", edit_user_path(current_user), class:"btn btn-default" %>
	<% else %>
		<% follow_record = user.follows.where('user_id = ? and following = ?', current_user.id, user.id) %>
		<% if follow_record.any? %>
			<%= link_to 'Unfoll', unfoll_user_path(user.id),method: :delete, data: {confirm: 'Are you sure?'}, class: 'btn btn-danger' %>
			<% if follow_record.first.status == true %>
				<% followed = Follow.where('user_id = ? and following = ?', user.id, current_user.id).first %>
				<% if followed.nil? %>
					<i>User not following you</i>				
				<% else %>
					<i>User follows you</i>
				<% end %>
			<% elsif follow_record.first.status == false %>
				<i>Waiting</i>								
			<% end %>
		<% else %>
			<%= link_to 'Follow', follow_user_path(user.id), class: 'btn btn-primary' %>		
		<% end %>
		
	<% end %>
<% end %>